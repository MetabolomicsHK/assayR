---
title: "AssayR"
author: "jimi.wills@ed.ac.uk"
date: "10 June 2017"
output: pdf_document
vignette: >
  %\VignetteIndexEntry{AssayR}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}

---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## AssayR

AssayR provides a small number of functions for simple and
rapid assay of high resolution LCMS data, especially isotopically
labelled tracer experiments.

AssayR works with Proteowizard tools msaccess and msconvert, and
expects to find these tools on your path.


## Summary of use


```{r usage, eval=FALSE}
# change directory to where your raw files are
setwd(path.to.raw.files)
# you can also do this in the RGui or RStudio menu.

# convert raw files to mzML if they are not already
msconvert_all()
# this extract pos and neg and puts them in mzMLpos and mzMLneg
# directories

# generate TICs/EICs/XICs from config file
path.to.tics <- run.config.tics(path.to.config, path.to.mzML)
# more about the config file below

# analyse the peaks (interactively)
results <- run.config.peaks(path.to.config, path.to.tics)
# this is interactive, more below.
# you could write the result to csv
# write.csv(results, "results.csv")

# rearrange and output the results, and output plots of the
# isotopes:
assay.plotter(results)
# check the current working directory for outputs

```

## Config file

There are example config files with this package.  The format
should be a tsv, as readable by `read.delim`, and the file
should have the following columns:

* target
    name of the target channel (gets used for naming data)
* name
    name of the compound (gets used for labelling graphs)
* mz
    monoisotopic m/z value for this compound
* ppm
    m/z tolerance in ppm for this compound
* rt.min
    minimum retention time to be considered (can be modified interactively)
* rt.max
    maximum retention time to be considered (can be modified interactively)
* seconds
    width of pick-detection wave in seconds (can be modified interactively)
* threshold
    minimum required intensity (can be modified interactively)
* known alternatives
    reserved for future use
* C13
    in labelled experiment, maximum possible number of 13C in compound
* N15
    in labelled experiment, maximum possible number of 15N in compound
* H2
    in labelled experiment, maximum possible number of 2H in compound
* event
    in mass spec method with multiple events (scans), indicates in which event
    to find the m/z of this compound
* interactive
    values: "yes" or "done", indicates whether interactive mode is 
    required for this definition
* comment
    free text.  I use this for sorting my compounds in pathway order.
    
    
## more information?

If you think something's missing, please get in contact and I'll update this
document so everybody can benefit.  Thanks!
